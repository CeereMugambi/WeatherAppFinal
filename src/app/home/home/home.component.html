<app-home-navbar></app-home-navbar>
<div class="page-content">
<div class="top-section">
    <form #form="ngForm" (submit)="onSubmit()">
      <div class = input-row>
        <mat-form-field>
            <input matInput type="text" placeholder="Search city" name="cityName" [(ngModel)]="cityName" (keydown.enter)="onSubmit()">
          </mat-form-field>
          
        <mat-form-field>
          <input matInput [matDatepicker]="picker" placeholder="Select a date" name="selectedDate" [(ngModel)]="selectedDate" (keydown.enter)="onSubmit()">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>

        <button mat-raised-button type="submit" color="primary">submit
        </button>
      </div>
  </form>
  </div>

  <div class="home-container-wrapper">
      <div class="home-container"*ngIf="IweatherData">
         <!-- Weather data section -->
         <div class="upper-data" *ngFor="let forecastDay of IweatherData.forecast.forecastday" >
          <img src="../assets/hot.jpg"*ngIf="forecastDay.day.maxtemp_c > 15">
          <img src="../assets/cold.jpg"*ngIf="forecastDay.day.mintemp_c < 15">
    
        <div class="weather-data">
            <div class="temperature">{{ forecastDay.day.maxtemp_c }}째C</div>
            <div class="location">{{ IweatherData.location.name}},{{ IweatherData.location.country}}</div>
            <!-- <div class="location">{{ IweatherData.location.country}}</div> -->


        </div>
    </div>
    
    <div class="lower-data" *ngFor="let forecastDay of IweatherData.forecast.forecastday" >
        <div class="more-info-label">
            More Information
        </div>
        <div class="more-info-container" *ngFor="let forecastDay of IweatherData.forecast.forecastday" >
            <!-- Additional weather information -->
            <div class="info-block">
                <div class="info-block-label">
                  <div class="icon-and-feels-like">
                    <img src="../assets/min.png" alt="Feels Like Icon" class="feels-like-icon">
                    <span>Feels Like</span>
                  </div>
                  <div class="unit-selection">
                    <p>Units:</p>
                    <mat-button-toggle-group [(ngModel)]="selectedUnits" (ngModelChange)="onUnitsChange()">
                      <mat-button-toggle value="metric">Celsius</mat-button-toggle>
                      <mat-button-toggle value="imperial">Fahrenheit</mat-button-toggle>
                    </mat-button-toggle-group>
                  </div>
                </div>
                <div class="info-block-value">
                    {{ selectedUnits === 'metric' ? forecastDay.day.mintemp_c : forecastDay.day.mintemp_f }}
                    {{ selectedUnits === 'metric' ? '째C' : '째F' }}
                </div>
              </div>
              
              
            <div class="info-block">
                <div class="info-block-label">
                    <img src="../assets/max.png">
                    <span>max</span>
                </div>
                <div class="info-block-value">
                    {{ forecastDay.day.maxtemp_c}}째C
                </div>
            </div>
    
            <div class="info-block">
                <div class="info-block-label">
                    <img src="../assets/humidity.png">
                    <span>humidity</span>
                </div>
                <div class="info-block-value">
                    {{ forecastDay.day.avghumidity }}% 
                </div>
            </div>
    
            <div class="info-block">
                <div class="info-block-label">
                    <img src="../assets/wind.png">
                    <span>wind</span>
                </div>
                <div class="info-block-value">
                    {{ forecastDay.day.maxwind_kph }} km/h
                </div>
                
            </div>
        </div>
    </div>
</div>
</div>
</div>

